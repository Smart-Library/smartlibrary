<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h1>Layout for <%= @grouping_name %></h1>
    </div>
  </div>
  <div class="row">
    <div class="layout-area col-sm-12"
         style="background-image: url(<%= @background %>);">
      <% @children.each do |child| %>
        <%= area_tag(child, 'draggable') %>
      <% end %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <%= form_for @grouping, url: grouping_path, method: 'put', html: { multipart: true } do |f| %>
        <%= f.file_field :background, class: 'form-control' %>
        <%= f.submit 'Update Layout', class: 'btn btn-success' %>
      <% end %>
    </div>
  </div>
</div>
<script type="text/javascript">
  window.onload = function () {
    setupInteractJS();
    registerOnUpdateLayout();
  }
</script>
